(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9569d018"],{"18bc":function(t,e,a){"use strict";a("8d47")},"4bb4":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"draw"},[a("ul",[a("li",{on:{click:t.addPoint}},[t._v("画点")]),a("li",{on:{click:t.addLine}},[t._v("画折线")]),a("li",{on:{click:t.addPolygon}},[t._v("画多边形")]),a("li",{on:{click:t.stop}},[t._v("停止绘制")]),a("li",{on:{click:t.clear}},[t._v("全部清除")]),a("li",{on:{click:t.lonLat}},[t._v("输出当前图形坐标")])])]),a("div",{staticClass:"mapContent"},[a("GdMap")],1),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tip"},[a("p",[t._v(" 点击画点、线、面则可以在地图上添加覆盖物，双击则完成绘制。每绘制完一个图形，均会输出当前所画路径。 ")]),a("p",[t._v("如果绘制错误，可以右击鼠标，出现编辑当前选中图形，修改路径。")]),a("p",[t._v("点击输出路径，则会将当前页面所有图形路径输出。")])])}],i=a("d4ec"),l=a("bee2"),c=a("262e"),r=a("2caf"),s=(a("d81d"),a("159b"),a("9ab4")),u=a("60a3"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}})},p=[],v=function(t){Object(c["a"])(a,t);var e=Object(r["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(l["a"])(a,[{key:"init",value:function(){var t=new this.$AMAP.Map("map",{viewMode:"2D",zoom:12,center:[121.21875,31.7603]});t.plugin(["AMap.MouseTool","AMap.PolyEditor"],(function(){})),u["b"].prototype.map=t}},{key:"created",value:function(){var t=this;this.$nextTick((function(){t.init()}))}}]),a}(u["b"]);v=Object(s["a"])([u["a"]],v);var f=v,y=f,h=(a("18bc"),a("2877")),g=Object(h["a"])(y,d,p,!1,null,"747e7786",null),b=g.exports,k=function(t){Object(c["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.overlays=[],t}return Object(l["a"])(a,[{key:"addPoint",value:function(){this.map?this.mouseTool.marker({raiseOnDrag:!0}):alert("地图未加载！")}},{key:"addLine",value:function(){this.map?this.mouseTool.polyline({strokeColor:"#3e55b4"}):alert("地图未加载！")}},{key:"addPolygon",value:function(){this.mouseTool.polygon({fillColor:"#00b0ff",strokeColor:"#80d8ff"})}},{key:"stop",value:function(){this.mouseTool.close(!1)}},{key:"clear",value:function(){this.map.remove(this.overlays),this.overlays=[]}},{key:"editor",value:function(){var t=this;this.overlays.forEach((function(e){e.on("click",t.getItem)}))}},{key:"getItem",value:function(t){switch(t.target.type){case"AMap.Marker":t.target.setDraggable(!0);break;case"AMap.Overlay":this.ployEdit(t);break}}},{key:"mounted",value:function(){var t=this;this.$nextTick((function(){t.mouseTool=new t.$AMAP.MouseTool(t.map);var e=t;t.contextMenu=new t.$AMAP.ContextMenu,t.contextMenu.addItem("编辑",(function(t){switch(console.log(e.target.className),e.target.className){case"AMap.Marker":e.dragstart(e.target);break;case"Overlay.Polyline":e.editPolyStart(e.target);break;case"Overlay.Polygon":e.editPolyStart(e.target);break}}),1),t.contextMenu.addItem("停止编辑",(function(t){switch(e.target.className){case"AMap.Marker":e.dragend(e.target);break;case"Overlay.Polyline":e.editPolyEnd(e.target);break;case"Overlay.Polygon":e.editPolyEnd(e.target);break}e.target=null,e.curpolyEditor=null}),1),t.mouseTool.on("draw",(function(t){var a;switch(t.obj.type){case"AMap.Overlay":a=t.obj.getPath().map((function(t){return{lon:t.lng,lat:t.lat}}));break;case"AMap.Marker":a={lon:t.obj.getPosition().lng,lat:t.obj.getPosition().lat};break}console.log("路径:",a),e.overlays.push(t.obj),e.overlays.forEach((function(t){t.on("rightclick",(function(t){e.mouseTool.close(!1),e.target=t.target,e.contextMenu.open(e.map,t.lnglat)}))}))}))}))}},{key:"dragstart",value:function(t){t.setDraggable(!0),this.contextMenu.close()}},{key:"dragend",value:function(t){t.setDraggable(!1),this.contextMenu.close()}},{key:"editPolyStart",value:function(t){this.curpolyEditor=new this.$AMAP.PolyEditor(this.map,t),this.curpolyEditor.open(),this.ployEdit(this.curpolyEditor),this.contextMenu.close()}},{key:"editPolyEnd",value:function(t){this.curpolyEditor.close(),this.contextMenu.close()}},{key:"ployEdit",value:function(t){t.on("addnode",(function(t){})),t.on("adjust",(function(t){})),t.on("removenode",(function(t){})),t.on("end",(function(t){}))}},{key:"lonLat",value:function(){var t=[];this.overlays.forEach((function(e){switch(e.type){case"AMap.Overlay":var a={};a.name=e.className,a.path=e.getPath().map((function(t){return{lon:t.lng,lat:t.lat}})),t.push(a);break;case"AMap.Marker":t.push({lon:e.getPosition().lng,lat:e.getPosition().lat});break}})),console.log(t)}}]),a}(u["b"]);k=Object(s["a"])([Object(u["a"])({components:{GdMap:b}})],k);var m=k,M=m,P=(a("f12d"),Object(h["a"])(M,o,n,!1,null,"b0ee09fa",null));e["default"]=P.exports},"6caf":function(t,e,a){},"8d47":function(t,e,a){},d81d:function(t,e,a){"use strict";var o=a("23e7"),n=a("b727").map,i=a("1dde"),l=i("map");o({target:"Array",proto:!0,forced:!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},f12d:function(t,e,a){"use strict";a("6caf")}}]);
//# sourceMappingURL=chunk-9569d018.ce96a201.js.map